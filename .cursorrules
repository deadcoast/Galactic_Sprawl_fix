# CodeBase Document Index (`CDI`)

`CodeBase_Docs/CodeBase_Architecture.md` - For Specifics on the code base structure, methods, and architecture.
`CodeBase_Docs/CodeBase_Mapping` - A Living directory that is to be ONLY updated with specific files, their locations, and purpose to keep track of the code base.
`CodeBase_Docs/CodeBase_Error_Log.md` - A File to log common issues while debugging, to AVOID them later in development.
`CodeBase_Docs/CodeBase_Linting_Progress.md` - A Linter Log to document best practises, do's and donts to avoid future linting errors.

---

# Workflow & Instructions(`WFI`)

1. During your interaction with the user, if you find anything reusable in this project (e.g. version of a library, model name, or methods used), especially about a fix to a mistake you made or a correction you received, you should take note in the `CodeBase_Docs/CodeBase_Architecture.md` file so you will not make the same mistake again.

2. You must update the `CodeBase_Docs/CodeBase_Mapping` file as a navigation guide to easily navigate the codebase and its assets to circumvent duplication and codebase conflicts. a `CodeBase_Docs/CodeBase_Mapping` file should be ADDITIVE, not destructive. The point is to maintain a complete map of the entire code base. Do not remove entries or information from the file.

3. You will operate on a sctrict workflow called `Rule of Seven` or `RO7`.

   1. Review the Scratchpad for the current task and plan the steps to complete the task
   2. Search `CodeBase_Docs/CodeBase_Mapping` for existing implementations, if none found search the codebase and adjust the plan if necessary
   3. Take action to complete the task
   4. Review the codebase for any missing implementations required by the most recent task changes.
   5. Identify gaps in current implementations, plan necessary steps toimplement missing features.
   6. Update the `Scratchpad` section.
   7. Finally, update the `CodeBase_Docs/CodeBase_Architecture.md` and `CodeBase_Docs/CodeBase_Mapping` files for code base consistency.

4. Use the `.cursorrules` file as a `Scratchpad` to organize your thoughts. Especially when you receive a new task, you should first review the content of the Scratchpad, clear old different task if necessary, first explain the task, and plan the steps you need to take to complete the task. You can use todo markers to indicate the progress, e.g.

```
[X] Task 1
[ ] Task 2
```

Also update the progress of the task in the Scratchpad when you finish a subtask.
Especially when you finished a milestone, it will help to improve your depth of task accomplishment to use the Scratchpad to reflect and plan. You should add only small and essential notes with the `Scratchpad` plan.
The goal is to help you maintain a big picture as well as the progress of the task. Always refer to the Scratchpad when you plan the next step.

---

# Scratchpad

1. **ADDING `\_` TO VARIABLES IS NOT AN ACCEPTABLE FIX FOR TYPESRIPT ERRORS**
2. **DELETING IMPLEMENTATIONS OR SILENCING METHODS IS NOT AN ACCEPTABLE FIX FOR TYPESCRIPT ERRORS**
3. **THE DEFINITION OF FIXING ERRORS IS IMPLEMENTING THEM PROPERLY, WITH THE REST OF THE CODE BASE**

## Primary Task:

### Tasklist

2. **Feature Implementation** [MEDIUM PRIORITY]

   - [x] Improve combat system
     - [x] Implement formation tactics
     - [x] Add environmental hazards
       - [x] Create hazard types
       - [x] Implement hazard interactions with weapons
       - [x] Add documentation for hazard system
     - [x] Create advanced weapon effects

3. **Technical Debt Reduction** [MEDIUM PRIORITY]

   - [x] Modernize build system
     - [x] Update to latest TypeScript version
     - [ ] Optimize bundle size with code splitting
     - [ ] Implement tree shaking for unused code
   - [x] Improve error handling
     - [x] Fix ESLint errors in jest-setup.js
     - [x] Fix ESLint error in Button.tsx (unused asChild prop)
     - [x] Replace definite assignment operator in AdvancedWeaponEffectManager
     - [x] Fix \_WeaponEvents interface implementation in AdvancedWeaponEffectManager
     - [x] Document Sourcery false positives for self-assignments in AdvancedWeaponEffectManager
     - [x] Create comprehensive tests for AdvancedWeaponEffectManager
     - [x] Implement hazard interaction functionality in AdvancedWeaponEffectManager
     - [ ] Add global error boundary
     - [ ] Implement structured error logging
     - [ ] Create recovery mechanisms for critical failures
   - [ ] Enhance state management
     - [ ] Refactor to use context selectors
     - [ ] Implement state persistence
     - [ ] Add state migration utilities

4. **Performance Monitoring** [LOW PRIORITY]

   - [ ] Implement performance tracking
     - [ ] Add metrics for critical operations
     - [ ] Create performance dashboards
     - [ ] Set up alerts for performance regressions
   - [ ] Optimize resource usage
     - [ ] Implement memory profiling
     - [ ] Add CPU usage monitoring
     - [ ] Optimize GPU utilization for effects
   - [ ] Enhance debugging tools
     - [ ] Create visual debuggers for complex systems
     - [ ] Add time-travel debugging for state
     - [ ] Implement conditional breakpoints for events

5. **User Experience Improvements** [LOW PRIORITY]

   - [ ] Enhance visual feedback
     - [ ] Add animations for state transitions
     - [ ] Improve error messages
     - [ ] Create better loading indicators
   - [ ] Optimize mobile experience
     - [ ] Implement responsive designs
     - [ ] Add touch-friendly controls
     - [ ] Optimize for different screen sizes
   - [ ] Improve accessibility
     - [ ] Add keyboard navigation
     - [ ] Implement screen reader support
     - [ ] Enhance color contrast

6. **Documentation Enhancements** [LOW PRIORITY]

   - [ ] Update system documentation
     - [ ] Create user guides for game mechanics
     - [ ] Document API interfaces for module integration
     - [ ] Add troubleshooting guides for common issues
   - [ ] Enhance developer documentation
     - [ ] Create onboarding guide for new developers
     - [ ] Document best practices for each subsystem
     - [ ] Add examples for common implementation patterns

### Next Steps

1. **Feature Implementation**:

   - Improve combat system - add environmental hazards

2. **Technical Debt Reduction**:

   - Optimize bundle size with code splitting

3. **Performance Monitoring**:
   - Implement performance tracking - add metrics for critical operations

### Next Steps

1. **Feature Implementation**:

   - Improve combat system - add environmental hazards

2. **Technical Debt Reduction**:

   - Optimize bundle size with code splitting

3. **Performance Monitoring**:
   - Implement performance tracking - add metrics for critical operations
